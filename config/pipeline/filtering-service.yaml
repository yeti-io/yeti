server:
  port: 8080
  read_timeout_seconds: 15
  write_timeout_seconds: 15

database:
  postgres:
    host: "postgres"
    port: 5432
    user: "admin"
    password: "password"
    dbname: "filtering"
    sslmode: "disable"

  redis:
    host: "redis"
    port: 6379
    password: ""
    db: 0
    ttl_seconds: 3600

broker:
  type: "kafka"
  kafka:
    brokers: ["kafka:9092"]
    group_id: "filtering-service"
    input_topic: "input_events"
    output_topic: "filtered_events"
    config_update_topic: "config_updates"
    dlq_topic: "system_dlq"
    retry:
      max_attempts: 3
      initial_interval: 1s
      max_interval: 30s
      multiplier: 2.0
      max_elapsed_time: 5m

logging:
  level: "info"
  format: "json"

filtering:
  reload:
    interval_seconds: 60
    jitter_max_milliseconds: 5000
  fallback:
    on_error: "error"

circuit_breaker:
  enabled: true
  max_requests: 3
  interval: 60s
  timeout: 60s
  failure_ratio: 0.5
  min_requests: 3

tracing:
  enabled: true
  service_name: "filtering-service"
  otlp:
    endpoint: "tempo:4317"
    insecure: true
  sampler:
    type: "always_on"
    param: 1.0
